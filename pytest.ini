[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Custom markers for test categorization
markers =
    cloud: tests requiring AWS connectivity
    offline: tests that work without AWS
    s3: S3-specific tests
    bedrock: Bedrock-specific tests
    integration: end-to-end integration tests
    concurrency: tests for parallel/concurrent operations
    resilience: tests for retry/backoff behavior
    slow: tests that take longer to run
    gpu: tests requiring GPU/CUDA hardware
    sagemaker: tests requiring SageMaker environment

# Default: skip cloud tests unless explicitly requested
addopts = -m "not cloud" --tb=short -v

# Timeout for individual tests (prevents hanging)
timeout = 300

# Example usage:
# pytest                          # Run offline tests only (default)
# pytest -m cloud                 # Run cloud tests only
# pytest -m "s3 and offline"      # Run offline S3 tests
# pytest -m "not slow"            # Skip slow tests
# pytest tests/cloud/             # Run all cloud directory tests
